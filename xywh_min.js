var mediaFragments=(function(g,c){function e(j){var m="img,video";var p=j?j.querySelectorAll(m):c.querySelectorAll(m);for(var n=0,q=p.length;n<q;n++){var k=p[n];var h=k.src||k.currentSrc;var l=/[#&\?]xywh\=(pixel\:|percent\:)?(\d+),(\d+),(\d+),(\d+)/;var o=l.exec(h);if(o){var r={mediaItem:k,mediaType:k.nodeName.toLowerCase(),unit:(o[1]?o[1]:"pixel:"),x:o[2],y:o[3],w:o[4],h:o[5]};if(r.mediaType==="img"){f(r);}else{b(r);}}}}function f(j){var h=j.mediaItem;var i=function(){a(j);h.removeEventListener("load",i);h.src="data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";};h.addEventListener("load",i);}function b(h){h.mediaItem.addEventListener("loadedmetadata",function(){a(h);});}function a(o){var k=o.mediaItem;var q,p,r,n;var l=1;var j=k.width;var m=k.height;if(o.unit==="pixel:"){l=j/k.naturalWidth;r=o.w*l+"px";n=o.h*l+"px";q="-"+o.x*l+"px";p="-"+o.y*l+"px";}else{r=(j*o.w/100)+"px";n=(m*o.h/100)+"px";q="-"+(j*o.x/100)+"px";p="-"+(m*o.y/100)+"px";}if(o.mediaType==="video"){var i=c.createElement("div");i.style.cssText+="overflow:hidden;width:"+r+";height:"+n+";padding:0;margin:0;border-radius:0;border:none;";k.style.cssText+="transform:translate("+q+","+p+");-webkit-transform:translate("+q+","+p+");";k.parentNode.insertBefore(i,k);i.appendChild(k);if(k.hasAttribute("autoplay")){k.play();}}else{k.style.cssText+="width:"+r+";height:"+n+";background:url("+k.src+") no-repeat "+q+" "+p+"; background-size: "+j+"px "+m+"px;";}}g.addEventListener("DOMContentLoaded",function(){e();});return{apply:function d(h){e(h);}};})(window,document);